{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = ImperativeTransition;\nexports.renderTransition = renderTransition;\nexports.useTransition = useTransition;\nvar _useMergedRefs = _interopRequireDefault(require(\"@restart/hooks/useMergedRefs\"));\nvar _useEventCallback = _interopRequireDefault(require(\"@restart/hooks/useEventCallback\"));\nvar _useIsomorphicEffect = _interopRequireDefault(require(\"@restart/hooks/useIsomorphicEffect\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _NoopTransition = _interopRequireDefault(require(\"./NoopTransition\"));\nvar _RTGTransition = _interopRequireDefault(require(\"./RTGTransition\"));\nvar _utils = require(\"./utils\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nfunction _getRequireWildcardCache(e) {\n  if (\"function\" != typeof WeakMap) return null;\n  var r = new WeakMap(),\n    t = new WeakMap();\n  return (_getRequireWildcardCache = function (e) {\n    return e ? t : r;\n  })(e);\n}\nfunction _interopRequireWildcard(e, r) {\n  if (!r && e && e.__esModule) return e;\n  if (null === e || \"object\" != typeof e && \"function\" != typeof e) return {\n    default: e\n  };\n  var t = _getRequireWildcardCache(r);\n  if (t && t.has(e)) return t.get(e);\n  var n = {\n      __proto__: null\n    },\n    a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) {\n    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n  }\n  return n.default = e, t && t.set(e, n), n;\n}\nfunction _interopRequireDefault(e) {\n  return e && e.__esModule ? e : {\n    default: e\n  };\n}\nfunction useTransition({\n  in: inProp,\n  onTransition\n}) {\n  const ref = (0, _react.useRef)(null);\n  const isInitialRef = (0, _react.useRef)(true);\n  const handleTransition = (0, _useEventCallback.default)(onTransition);\n  (0, _useIsomorphicEffect.default)(() => {\n    if (!ref.current) {\n      return undefined;\n    }\n    let stale = false;\n    handleTransition({\n      in: inProp,\n      element: ref.current,\n      initial: isInitialRef.current,\n      isStale: () => stale\n    });\n    return () => {\n      stale = true;\n    };\n  }, [inProp, handleTransition]);\n  (0, _useIsomorphicEffect.default)(() => {\n    isInitialRef.current = false;\n    // this is for strict mode\n    return () => {\n      isInitialRef.current = true;\n    };\n  }, []);\n  return ref;\n}\n/**\n * Adapts an imperative transition function to a subset of the RTG `<Transition>` component API.\n *\n * ImperativeTransition does not support mounting options or `appear` at the moment, meaning\n * that it always acts like: `mountOnEnter={true} unmountOnExit={true} appear={true}`\n */\nfunction ImperativeTransition({\n  children,\n  in: inProp,\n  onExited,\n  onEntered,\n  transition\n}) {\n  const [exited, setExited] = (0, _react.useState)(!inProp);\n\n  // TODO: I think this needs to be in an effect\n  if (inProp && exited) {\n    setExited(false);\n  }\n  const ref = useTransition({\n    in: !!inProp,\n    onTransition: options => {\n      const onFinish = () => {\n        if (options.isStale()) return;\n        if (options.in) {\n          onEntered == null ? void 0 : onEntered(options.element, options.initial);\n        } else {\n          setExited(true);\n          onExited == null ? void 0 : onExited(options.element);\n        }\n      };\n      Promise.resolve(transition(options)).then(onFinish, error => {\n        if (!options.in) setExited(true);\n        throw error;\n      });\n    }\n  });\n  const combinedRef = (0, _useMergedRefs.default)(ref, (0, _utils.getChildRef)(children));\n  return exited && !inProp ? null : /*#__PURE__*/(0, _react.cloneElement)(children, {\n    ref: combinedRef\n  });\n}\nfunction renderTransition(component, runTransition, props) {\n  if (component) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_RTGTransition.default, Object.assign({}, props, {\n      component: component\n    }));\n  }\n  if (runTransition) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(ImperativeTransition, Object.assign({}, props, {\n      transition: runTransition\n    }));\n  }\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_NoopTransition.default, Object.assign({}, props));\n}","map":{"version":3,"names":["exports","__esModule","default","ImperativeTransition","renderTransition","useTransition","_useMergedRefs","_interopRequireDefault","require","_useEventCallback","_useIsomorphicEffect","_react","_interopRequireWildcard","_NoopTransition","_RTGTransition","_utils","_jsxRuntime","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","in","inProp","onTransition","ref","useRef","isInitialRef","handleTransition","current","undefined","stale","element","initial","isStale","children","onExited","onEntered","transition","exited","setExited","useState","options","onFinish","Promise","resolve","then","error","combinedRef","getChildRef","cloneElement","component","runTransition","props","jsx","assign"],"sources":["C:/Users/PRABHJOT SINGH/Desktop/gleam1/web-dev-projects/personal-portfolio/node_modules/@restart/ui/cjs/ImperativeTransition.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = ImperativeTransition;\nexports.renderTransition = renderTransition;\nexports.useTransition = useTransition;\nvar _useMergedRefs = _interopRequireDefault(require(\"@restart/hooks/useMergedRefs\"));\nvar _useEventCallback = _interopRequireDefault(require(\"@restart/hooks/useEventCallback\"));\nvar _useIsomorphicEffect = _interopRequireDefault(require(\"@restart/hooks/useIsomorphicEffect\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _NoopTransition = _interopRequireDefault(require(\"./NoopTransition\"));\nvar _RTGTransition = _interopRequireDefault(require(\"./RTGTransition\"));\nvar _utils = require(\"./utils\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction useTransition({\n  in: inProp,\n  onTransition\n}) {\n  const ref = (0, _react.useRef)(null);\n  const isInitialRef = (0, _react.useRef)(true);\n  const handleTransition = (0, _useEventCallback.default)(onTransition);\n  (0, _useIsomorphicEffect.default)(() => {\n    if (!ref.current) {\n      return undefined;\n    }\n    let stale = false;\n    handleTransition({\n      in: inProp,\n      element: ref.current,\n      initial: isInitialRef.current,\n      isStale: () => stale\n    });\n    return () => {\n      stale = true;\n    };\n  }, [inProp, handleTransition]);\n  (0, _useIsomorphicEffect.default)(() => {\n    isInitialRef.current = false;\n    // this is for strict mode\n    return () => {\n      isInitialRef.current = true;\n    };\n  }, []);\n  return ref;\n}\n/**\n * Adapts an imperative transition function to a subset of the RTG `<Transition>` component API.\n *\n * ImperativeTransition does not support mounting options or `appear` at the moment, meaning\n * that it always acts like: `mountOnEnter={true} unmountOnExit={true} appear={true}`\n */\nfunction ImperativeTransition({\n  children,\n  in: inProp,\n  onExited,\n  onEntered,\n  transition\n}) {\n  const [exited, setExited] = (0, _react.useState)(!inProp);\n\n  // TODO: I think this needs to be in an effect\n  if (inProp && exited) {\n    setExited(false);\n  }\n  const ref = useTransition({\n    in: !!inProp,\n    onTransition: options => {\n      const onFinish = () => {\n        if (options.isStale()) return;\n        if (options.in) {\n          onEntered == null ? void 0 : onEntered(options.element, options.initial);\n        } else {\n          setExited(true);\n          onExited == null ? void 0 : onExited(options.element);\n        }\n      };\n      Promise.resolve(transition(options)).then(onFinish, error => {\n        if (!options.in) setExited(true);\n        throw error;\n      });\n    }\n  });\n  const combinedRef = (0, _useMergedRefs.default)(ref, (0, _utils.getChildRef)(children));\n  return exited && !inProp ? null : /*#__PURE__*/(0, _react.cloneElement)(children, {\n    ref: combinedRef\n  });\n}\nfunction renderTransition(component, runTransition, props) {\n  if (component) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_RTGTransition.default, Object.assign({}, props, {\n      component: component\n    }));\n  }\n  if (runTransition) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(ImperativeTransition, Object.assign({}, props, {\n      transition: runTransition\n    }));\n  }\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_NoopTransition.default, Object.assign({}, props));\n}"],"mappings":"AAAA,YAAY;;AAEZA,OAAO,CAACC,UAAU,GAAG,IAAI;AACzBD,OAAO,CAACE,OAAO,GAAGC,oBAAoB;AACtCH,OAAO,CAACI,gBAAgB,GAAGA,gBAAgB;AAC3CJ,OAAO,CAACK,aAAa,GAAGA,aAAa;AACrC,IAAIC,cAAc,GAAGC,sBAAsB,CAACC,OAAO,CAAC,8BAA8B,CAAC,CAAC;AACpF,IAAIC,iBAAiB,GAAGF,sBAAsB,CAACC,OAAO,CAAC,iCAAiC,CAAC,CAAC;AAC1F,IAAIE,oBAAoB,GAAGH,sBAAsB,CAACC,OAAO,CAAC,oCAAoC,CAAC,CAAC;AAChG,IAAIG,MAAM,GAAGC,uBAAuB,CAACJ,OAAO,CAAC,OAAO,CAAC,CAAC;AACtD,IAAIK,eAAe,GAAGN,sBAAsB,CAACC,OAAO,CAAC,kBAAkB,CAAC,CAAC;AACzE,IAAIM,cAAc,GAAGP,sBAAsB,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACvE,IAAIO,MAAM,GAAGP,OAAO,CAAC,SAAS,CAAC;AAC/B,IAAIQ,WAAW,GAAGR,OAAO,CAAC,mBAAmB,CAAC;AAC9C,SAASS,wBAAwBA,CAACC,CAAC,EAAE;EAAE,IAAI,UAAU,IAAI,OAAOC,OAAO,EAAE,OAAO,IAAI;EAAE,IAAIC,CAAC,GAAG,IAAID,OAAO,CAAC,CAAC;IAAEE,CAAC,GAAG,IAAIF,OAAO,CAAC,CAAC;EAAE,OAAO,CAACF,wBAAwB,GAAG,SAAAA,CAAUC,CAAC,EAAE;IAAE,OAAOA,CAAC,GAAGG,CAAC,GAAGD,CAAC;EAAE,CAAC,EAAEF,CAAC,CAAC;AAAE;AAC3M,SAASN,uBAAuBA,CAACM,CAAC,EAAEE,CAAC,EAAE;EAAE,IAAI,CAACA,CAAC,IAAIF,CAAC,IAAIA,CAAC,CAACjB,UAAU,EAAE,OAAOiB,CAAC;EAAE,IAAI,IAAI,KAAKA,CAAC,IAAI,QAAQ,IAAI,OAAOA,CAAC,IAAI,UAAU,IAAI,OAAOA,CAAC,EAAE,OAAO;IAAEhB,OAAO,EAAEgB;EAAE,CAAC;EAAE,IAAIG,CAAC,GAAGJ,wBAAwB,CAACG,CAAC,CAAC;EAAE,IAAIC,CAAC,IAAIA,CAAC,CAACC,GAAG,CAACJ,CAAC,CAAC,EAAE,OAAOG,CAAC,CAACE,GAAG,CAACL,CAAC,CAAC;EAAE,IAAIM,CAAC,GAAG;MAAEC,SAAS,EAAE;IAAK,CAAC;IAAEC,CAAC,GAAGC,MAAM,CAACC,cAAc,IAAID,MAAM,CAACE,wBAAwB;EAAE,KAAK,IAAIC,CAAC,IAAIZ,CAAC,EAAE,IAAI,SAAS,KAAKY,CAAC,IAAI,CAAC,CAAC,CAACC,cAAc,CAACC,IAAI,CAACd,CAAC,EAAEY,CAAC,CAAC,EAAE;IAAE,IAAIG,CAAC,GAAGP,CAAC,GAAGC,MAAM,CAACE,wBAAwB,CAACX,CAAC,EAAEY,CAAC,CAAC,GAAG,IAAI;IAAEG,CAAC,KAAKA,CAAC,CAACV,GAAG,IAAIU,CAAC,CAACC,GAAG,CAAC,GAAGP,MAAM,CAACC,cAAc,CAACJ,CAAC,EAAEM,CAAC,EAAEG,CAAC,CAAC,GAAGT,CAAC,CAACM,CAAC,CAAC,GAAGZ,CAAC,CAACY,CAAC,CAAC;EAAE;EAAE,OAAON,CAAC,CAACtB,OAAO,GAAGgB,CAAC,EAAEG,CAAC,IAAIA,CAAC,CAACa,GAAG,CAAChB,CAAC,EAAEM,CAAC,CAAC,EAAEA,CAAC;AAAE;AAClkB,SAASjB,sBAAsBA,CAACW,CAAC,EAAE;EAAE,OAAOA,CAAC,IAAIA,CAAC,CAACjB,UAAU,GAAGiB,CAAC,GAAG;IAAEhB,OAAO,EAAEgB;EAAE,CAAC;AAAE;AACpF,SAASb,aAAaA,CAAC;EACrB8B,EAAE,EAAEC,MAAM;EACVC;AACF,CAAC,EAAE;EACD,MAAMC,GAAG,GAAG,CAAC,CAAC,EAAE3B,MAAM,CAAC4B,MAAM,EAAE,IAAI,CAAC;EACpC,MAAMC,YAAY,GAAG,CAAC,CAAC,EAAE7B,MAAM,CAAC4B,MAAM,EAAE,IAAI,CAAC;EAC7C,MAAME,gBAAgB,GAAG,CAAC,CAAC,EAAEhC,iBAAiB,CAACP,OAAO,EAAEmC,YAAY,CAAC;EACrE,CAAC,CAAC,EAAE3B,oBAAoB,CAACR,OAAO,EAAE,MAAM;IACtC,IAAI,CAACoC,GAAG,CAACI,OAAO,EAAE;MAChB,OAAOC,SAAS;IAClB;IACA,IAAIC,KAAK,GAAG,KAAK;IACjBH,gBAAgB,CAAC;MACfN,EAAE,EAAEC,MAAM;MACVS,OAAO,EAAEP,GAAG,CAACI,OAAO;MACpBI,OAAO,EAAEN,YAAY,CAACE,OAAO;MAC7BK,OAAO,EAAEA,CAAA,KAAMH;IACjB,CAAC,CAAC;IACF,OAAO,MAAM;MACXA,KAAK,GAAG,IAAI;IACd,CAAC;EACH,CAAC,EAAE,CAACR,MAAM,EAAEK,gBAAgB,CAAC,CAAC;EAC9B,CAAC,CAAC,EAAE/B,oBAAoB,CAACR,OAAO,EAAE,MAAM;IACtCsC,YAAY,CAACE,OAAO,GAAG,KAAK;IAC5B;IACA,OAAO,MAAM;MACXF,YAAY,CAACE,OAAO,GAAG,IAAI;IAC7B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,OAAOJ,GAAG;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASnC,oBAAoBA,CAAC;EAC5B6C,QAAQ;EACRb,EAAE,EAAEC,MAAM;EACVa,QAAQ;EACRC,SAAS;EACTC;AACF,CAAC,EAAE;EACD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE1C,MAAM,CAAC2C,QAAQ,EAAE,CAAClB,MAAM,CAAC;;EAEzD;EACA,IAAIA,MAAM,IAAIgB,MAAM,EAAE;IACpBC,SAAS,CAAC,KAAK,CAAC;EAClB;EACA,MAAMf,GAAG,GAAGjC,aAAa,CAAC;IACxB8B,EAAE,EAAE,CAAC,CAACC,MAAM;IACZC,YAAY,EAAEkB,OAAO,IAAI;MACvB,MAAMC,QAAQ,GAAGA,CAAA,KAAM;QACrB,IAAID,OAAO,CAACR,OAAO,CAAC,CAAC,EAAE;QACvB,IAAIQ,OAAO,CAACpB,EAAE,EAAE;UACde,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACK,OAAO,CAACV,OAAO,EAAEU,OAAO,CAACT,OAAO,CAAC;QAC1E,CAAC,MAAM;UACLO,SAAS,CAAC,IAAI,CAAC;UACfJ,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACM,OAAO,CAACV,OAAO,CAAC;QACvD;MACF,CAAC;MACDY,OAAO,CAACC,OAAO,CAACP,UAAU,CAACI,OAAO,CAAC,CAAC,CAACI,IAAI,CAACH,QAAQ,EAAEI,KAAK,IAAI;QAC3D,IAAI,CAACL,OAAO,CAACpB,EAAE,EAAEkB,SAAS,CAAC,IAAI,CAAC;QAChC,MAAMO,KAAK;MACb,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EACF,MAAMC,WAAW,GAAG,CAAC,CAAC,EAAEvD,cAAc,CAACJ,OAAO,EAAEoC,GAAG,EAAE,CAAC,CAAC,EAAEvB,MAAM,CAAC+C,WAAW,EAAEd,QAAQ,CAAC,CAAC;EACvF,OAAOI,MAAM,IAAI,CAAChB,MAAM,GAAG,IAAI,GAAG,aAAa,CAAC,CAAC,EAAEzB,MAAM,CAACoD,YAAY,EAAEf,QAAQ,EAAE;IAChFV,GAAG,EAAEuB;EACP,CAAC,CAAC;AACJ;AACA,SAASzD,gBAAgBA,CAAC4D,SAAS,EAAEC,aAAa,EAAEC,KAAK,EAAE;EACzD,IAAIF,SAAS,EAAE;IACb,OAAO,aAAa,CAAC,CAAC,EAAEhD,WAAW,CAACmD,GAAG,EAAErD,cAAc,CAACZ,OAAO,EAAEyB,MAAM,CAACyC,MAAM,CAAC,CAAC,CAAC,EAAEF,KAAK,EAAE;MACxFF,SAAS,EAAEA;IACb,CAAC,CAAC,CAAC;EACL;EACA,IAAIC,aAAa,EAAE;IACjB,OAAO,aAAa,CAAC,CAAC,EAAEjD,WAAW,CAACmD,GAAG,EAAEhE,oBAAoB,EAAEwB,MAAM,CAACyC,MAAM,CAAC,CAAC,CAAC,EAAEF,KAAK,EAAE;MACtFf,UAAU,EAAEc;IACd,CAAC,CAAC,CAAC;EACL;EACA,OAAO,aAAa,CAAC,CAAC,EAAEjD,WAAW,CAACmD,GAAG,EAAEtD,eAAe,CAACX,OAAO,EAAEyB,MAAM,CAACyC,MAAM,CAAC,CAAC,CAAC,EAAEF,KAAK,CAAC,CAAC;AAC7F","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}